var infiniteList=function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=5)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.off=e.fire=e.on=void 0;var r=(n(1),{});e.on=function(t,e){r[t]=r[t]||[],r[t].push(e)},e.fire=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var o=e[0],i=r[o]=r[o]||[],s=0;s<i.length;s++)i[s].apply(void 0,e.slice(1))},e.off=function(t,e){setTimeout(function(){r[t]=r[t]||[];for(var n=0;n<r[t].length;n++)r[t][n]===e&&r[t].splice(n,1)},0)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.isFn=function(t){return"[object Function]"===Object.prototype.toString.call(t)},e.hasOwnProperty=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.extend=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=e[0],o=e.slice(1),i=0;i<o.length;i++){var s=o[i];for(var u in s)r[u]=s[u]}return r},e.raf=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(0),i=function(t,e){var n=t.attrs.options;n.hasMore&&(e=e?e:"fetch",(0,o.fire)(e+":before"),n.fetch(n.cursor).then(function(t){return(0,o.fire)(e+":after",t)}))},s=function(t){var e=t.dom.getBoundingClientRect(),n=window.innerHeight;e.bottom-n<t.attrs.options.triggerDistance&&i(t)},u=function t(e,n){n=n?n:"fetch",i(e,n);var r=function r(){setTimeout(function(){e.dom.getBoundingClientRect().bottom-window.innerHeight<e.attrs.options.triggerDistance&&t(e,n),(0,o.off)(n+":after",r)},0)};(0,o.on)(n+":after",r)},a=function(t,e){document.body.scrollTop>0||(e.state.touchStatus="start",e.state.touchY=t.touches[0].clientY,(0,o.fire)("pull:start"))},f=function(t,e){"end"!==e.state.touchStatus&&(e.state.touchStatus="end",(0,o.fire)("pull:end"))},c=function(t,e){(0,r.raf)(function(){"end"!==e.state.touchStatus&&(t.touches[0].clientY<=e.state.touchY||(t.preventDefault(),(0,o.fire)("pull:move")))})},l=function(t){t.state.touchStatus="end",t.state.touchEvents={ontouchstart:function(e){return a(e,t)},ontouchend:function(e){return f(e,t)},ontouchmove:function(e){return c(e,t)}}},h=function(t){var e=t.attrs.options;t.attrs.options.pullRefreshable&&l(t),(0,o.on)("onscroll",function(){t.state.isLoading||s(t)}),(0,o.on)("pull:refresh",function(){e.cursor=1,e.list=[],e.hasMore=!0,u(t,"refresh")}),(0,o.on)("refresh:after",function(t){e.list=e.list.concat(t),e.cursor+=e.step}),(0,o.on)("fetch:before",function(){t.state.isLoading=!0}),(0,o.on)("fetch:after",function(n){e.list=e.list.concat(n),t.state.isLoading=!1,e.cursor+=e.step,(e.maxCursor>0&&e.cursor>e.maxCursor||!n.length)&&(e.hasMore=!1)})},d=function(t){u(t,"fetch")},p=function(t){var e=t.state,n=t.attrs.options;return m(n.rootTag,e.touchEvents,n.list.map(function(t,e){return n.item(t,e)}))};e.default={isLoading:!1,oninit:h,oncreate:d,view:p}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=function(t){var e=t.state;t.attrs;e.style={height:0,visibility:"hidden",textAlign:"center"}},i=function(t){var e=t.state,n=e.style;(0,r.on)("fetch:before",function(){n.visibility="visible",n.height="inherit",m.redraw()}),(0,r.on)("fetch:after",function(){n.visibility="hidden",n.height=0,m.redraw()})},s=function(t){var e=t.attrs.options;return m("div",{style:t.state.style},[m("span",e.loadingText)])};e.default={oninit:o,oncreate:i,view:s}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(1),i=function(t){t.state.style={height:"0px",overflow:"hidden",textAlign:"center"}},s=function t(e,n,r){r=r||0,(0,o.raf)(function(){e.state.height-=n,e.state.style.height=e.state.height+"px",m.redraw(),e.state.height>=r?t(e,n,r):(e.state.style.height=r+"px",m.redraw())})},u=function(t){var e=t.attrs.options,n=t.dom,i=t.state.height/10;(0,r.on)("pull:start",function(){t.state.isReadyRefresh=!1,t.state.height=0,t.state.style.height="0px",m.redraw()}),(0,r.on)("pull:end",function(){t.attrs.options.pullLimitHeight<=t.state.height?(s(t,i,n.children[0].offsetHeight),(0,r.fire)("pull:refresh")):s(t,i,0)}),(0,r.on)("pull:move",function(){(0,o.raf)(function(){e.pullLimitHeight<=t.state.height&&(t.state.isReadyRefresh=!0),t.state.height+=(e.pullLimitHeight-t.state.height)/e.pullLimitHeight+1,t.state.style.height=t.state.height+"px",m.redraw()})}),(0,r.on)("refresh:before",function(){t.state.isRefreshing=!0,m.redraw()}),(0,r.on)("refresh:after",function(){t.state.isRefreshing=!1,m.redraw(),s(t,i,0)})},a=function(t){var e,n=t.attrs.options,r=t.state;return e=r.isReadyRefresh?n.refreshText:n.pullDownText,e=r.isRefreshing?n.refreshingText:e,m("div",{style:t.state.style},[m("span",e)])};e.default={isReadyRefresh:!1,isRefreshing:!1,oninit:i,oncreate:u,view:a}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(3),i=r(o),s=n(1),u=n(0),a=n(2),f=r(a),c=n(4),l=r(c),h={rootTag:"ul",list:[],cursor:1,step:1,maxCursor:0,hasMore:!0,triggerDistance:200,pullRefreshable:!1,loadingText:"正在加载",pullDownText:"下拉刷新",refreshText:"松开刷新",refreshingText:"正在加载",noMoreText:"没有更多数据",pullLimitHeight:60,item:function(){throw new Error("You must declare `item` function.")},fetch:function(){throw new Error("You must declare `fetch` function.")}},d=function(t){(0,s.extend)(t.state,h,t.attrs)},p=function(t){var e=t.state;e.onscroll=function(){(0,s.raf)(function(){(0,u.fire)("onscroll")})},window.addEventListener("scroll",e.onscroll)},g=function(t){var e=t.state;return m("div",[m(l.default,{options:e}),m(f.default,{options:e}),m(i.default,{options:e}),m("div",{style:{textAlign:"center"}},e.hasMore?null:e.noMoreText)])},v=function(t){window.removeEventListener("scroll",t.state.onscroll)},w={oninit:d,oncreate:p,view:g,onremove:v,on:u.on,fire:u.fire};t.exports=w}]);